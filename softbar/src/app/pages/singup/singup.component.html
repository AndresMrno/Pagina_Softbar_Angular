<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        src = "https://code.jquery.com/jquery-3.6.1.js"</script>
    <title>Document</title>
</head>

<body>

    <div class="container">
        <div class="row" style="margin-top:20px;">

            <div class="col-md-6 offset-md-3">

                <div class="container text-center">
                    <img src="../../../assets/agregar-usuario.png" width="100" height="100">
                </div>

                <h1 class="text-center">Registrese Aquí</h1>

                <form (ngSubmit)="formSubmit()">

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>identificacion</mat-label>
                        <input required [(ngModel)]="usuario.identificacion" name="identificacion" type="number"
                            matInput placeholder="Digite su identificacion">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Nombre</mat-label>
                        <input required [(ngModel)]="usuario.nombre" name="nombre" matInput
                            placeholder="Digite su nombre">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Apellido</mat-label>
                        <input required [(ngModel)]="usuario.apellido" name="apellido" type="text" matInput
                            placeholder="Digite su apellido">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>fecha de nacimiento</mat-label>
                        <input required [(ngModel)]="usuario.fecha_nacimiento" id="fecha" name="fecha_nacimiento"
                            type="date" matInput placeholder="Digite su fecha de nacimiento">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Edad</mat-label>
                        <input required [(ngModel)]="usuario.edad" id="edad" name="edad"  type="number"
                            matInput placeholder="">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Correo</mat-label>
                        <mat-hint>El correo debe ser unico</mat-hint>
                        <input required [(ngModel)]="usuario.correo" name="correo" type="email" matInput
                            placeholder="Digite su Correo">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Contraseña</mat-label>
                        <input required [(ngModel)]="usuario.contrasena" name="contrasena" type="password" matInput
                            placeholder="Digite su contraseña">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>telefono</mat-label>
                        <input required [(ngModel)]="usuario.telefono" name="telefono" type="tel" matInput
                            placeholder="Digite su telefono">
                    </mat-form-field>

                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>direccion</mat-label>
                        <input required [(ngModel)]="usuario.direccion" name="direccion" type="text" matInput
                            placeholder="Digite su direccion">
                    </mat-form-field>

                    <div class="container text-center">
                        <button mat-raised-button color="primary">Registrar</button>
                        <button mat-raised-button color="primary" type="reset"
                            style="margin-left: 20px;">Limpiar</button>
                    </div>
                </form>



            </div>

        </div>
    </div>





    <script src="https://code.jquery.com/jquery-3.6.1.js"
        integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>

    <script>
        $('#fecha').on('change', function () {
            $('#edad').val(Calcular_Edad());
        });


        function Calcular_Edad() {
            let fecha_seleccionada = $('#fecha').val();
            let fecha_nacimiento = new Date(fecha_seleccionada);
            let fecha_Actual = new Date();
            let redad = (parseInt((fecha_Actual - fecha_nacimiento) / (1000 * 60 * 60 * 24 * 365)));
            return redad;
        }


    </script>


</body>

</html>